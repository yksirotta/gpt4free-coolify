<!DOCTYPE html>
<html lang="en" data-color-mode="auto" data-light-theme="light" data-dark-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G4F - Docker Setup</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/dist/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/dist/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/dist/img/favicon-16x16.png">
    <link rel="manifest" href="/dist/img/site.webmanifest">
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/light-74231a1f3bbb.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/dark-8a995f0bacd4.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-primitives-225433424a87.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-b8b91660c29d.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-205098e9fedd.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/code-177d21388df8.css" />
    <style>
        :root {
            --colour-1: #000000;
            --colour-2: #ccc;
            --colour-3: #e4d4ff;
            --colour-4: #f0f0f0;
            --colour-5: #181818;
            --colour-6: #242424;
            --accent: #8b3dff;
            --gradient: #1a1a1a;
            --background: #16101b;
            --size: 70vw;
            --top: 50%;
            --blur: 40px;
            --opacity: 0.6;
        }

        /* Body and text color */
        body {
            height: 100vh;
            margin: 0;
            padding: 0;
        }

        .hidden {
            display: none;
        }

        .container-lg {
            margin: 0 auto;
            padding: 8px;
        }

        @media only screen and (min-width: 40em) {
            .container-lg {
                max-width: 84%;
            }
        }
    </style>
</head>
<body>
    <article class="markdown-body entry-content container-lg" itemprop="text"><h2>G4F - Docker Setup</h2>
<h2>Table of Contents</h2>
<ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#installation-and-setup">Installation and Setup</a></li>
<li><a href="#testing-the-api">Testing the API</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
<li><a href="#stopping-the-service">Stopping the Service</a></li>
</ul>
<h2>Prerequisites</h2>
<p><strong>Before you begin, ensure you have the following installed on your system:</strong></p>
<ul>
<li><a href="https://docs.docker.com/get-docker/" rel="nofollow">Docker</a></li>
<li><a href="https://docs.docker.com/compose/install/" rel="nofollow">Docker Compose</a></li>
<li>Python 3.7 or higher</li>
<li>pip (Python package manager)</li>
</ul>
<p><strong>Note:</strong> If you encounter issues with Docker, you can run the project directly using Python.</p>
<h2>Installation and Setup</h2>
<h3>Docker Method (Recommended)</h3>
<ol>
<li>
<p><strong>Clone the Repository</strong></p>
<div class="highlight highlight-source-shell"><pre class="notranslate">git clone https://github.com/xtekky/gpt4free.git
<span class="pl-c1">cd</span> gpt4free</pre></div>
</li>
<li>
<p><strong>Build and Run with Docker Compose</strong></p>
<p>Pull the latest image and run a container with Google Chrome support:</p>
<div class="highlight highlight-source-shell"><pre class="notranslate">   docker pull hlohaus789/g4f
   docker-compose up -d</pre></div>
<p>Or run the small docker images without Google Chrome:</p>
<div class="highlight highlight-source-shell"><pre class="notranslate">   docker-compose -f docker-compose-slim.yml up -d</pre></div>
</li>
<li>
<p><strong>Access the API or the GUI</strong></p>
<p>The api server will be accessible at <code class="notranslate">http://localhost:1337</code></p>
<p>And the gui at this url: <code class="notranslate">http://localhost:8080</code></p>
</li>
</ol>
<h3>Non-Docker Method</h3>
<p>If you encounter issues with Docker, you can run the project directly using Python:</p>
<ol>
<li>
<p><strong>Clone the Repository</strong></p>
<div class="highlight highlight-source-shell"><pre class="notranslate">git clone https://github.com/xtekky/gpt4free.git
<span class="pl-c1">cd</span> gpt4free</pre></div>
</li>
<li>
<p><strong>Install Dependencies</strong></p>
<div class="highlight highlight-source-shell"><pre class="notranslate">pip install -r requirements.txt</pre></div>
</li>
<li>
<p><strong>Run the Server</strong></p>
<div class="highlight highlight-source-shell"><pre class="notranslate">python -m g4f.api.run</pre></div>
</li>
<li>
<p><strong>Access the API or the GUI</strong></p>
<p>The api server will be accessible at <code class="notranslate">http://localhost:1337</code></p>
<p>And the gui at this url: <code class="notranslate">http://localhost:8080</code></p>
</li>
</ol>
<h2>Testing the API</h2>
<p><strong>You can test the API using curl or by creating a simple Python script:</strong></p>
<h3>Using curl</h3>
<div class="highlight highlight-source-shell"><pre class="notranslate">curl -X POST -H <span class="pl-s"><span class="pl-pds">"</span>Content-Type: application/json<span class="pl-pds">"</span></span> -d <span class="pl-s"><span class="pl-pds">'</span>{"prompt": "What is the capital of France?"}<span class="pl-pds">'</span></span> http://localhost:1337/chat/completions</pre></div>
<h3>Using Python</h3>
<p><strong>Create a file named <code class="notranslate">test_g4f.py</code> with the following content:</strong></p>
<div class="highlight highlight-source-python"><pre class="notranslate"><span class="pl-k">import</span> <span class="pl-s1">requests</span>

<span class="pl-s1">url</span> <span class="pl-c1">=</span> <span class="pl-s">"http://localhost:1337/v1/chat/completions"</span>
<span class="pl-s1">body</span> <span class="pl-c1">=</span> {
    <span class="pl-s">"model"</span>: <span class="pl-s">"gpt-4o-mini"</span>, 
    <span class="pl-s">"stream"</span>: <span class="pl-c1">False</span>,
    <span class="pl-s">"messages"</span>: [
        {<span class="pl-s">"role"</span>: <span class="pl-s">"assistant"</span>, <span class="pl-s">"content"</span>: <span class="pl-s">"What can you do?"</span>}
    ]
}

<span class="pl-s1">json_response</span> <span class="pl-c1">=</span> <span class="pl-s1">requests</span>.<span class="pl-c1">post</span>(<span class="pl-s1">url</span>, <span class="pl-s1">json</span><span class="pl-c1">=</span><span class="pl-s1">body</span>).<span class="pl-c1">json</span>().<span class="pl-c1">get</span>(<span class="pl-s">'choices'</span>, [])

<span class="pl-k">for</span> <span class="pl-s1">choice</span> <span class="pl-c1">in</span> <span class="pl-s1">json_response</span>:
    <span class="pl-en">print</span>(<span class="pl-s1">choice</span>.<span class="pl-c1">get</span>(<span class="pl-s">'message'</span>, {}).<span class="pl-c1">get</span>(<span class="pl-s">'content'</span>, <span class="pl-s">''</span>))</pre></div>
<p><strong>Run the script:</strong></p>
<div class="highlight highlight-source-shell"><pre class="notranslate">python test_g4f.py</pre></div>
<h2>Troubleshooting</h2>
<ul>
<li>If you encounter issues with Docker, try running the project directly using Python as described in the Non-Docker Method.</li>
<li>Ensure that you have the necessary permissions to run Docker commands. You might need to use <code class="notranslate">sudo</code> or add your user to the <code class="notranslate">docker</code> group.</li>
<li>If the server doesn't start, check the logs for any error messages and ensure all dependencies are correctly installed.</li>
</ul>
<p><strong><em>For more detailed information on API endpoints and usage, refer to the <a href="/docs/interference-api.html">G4F API documentation</a>.</em></strong></p>
<h2>Stopping the Service</h2>
<h3>Docker Method</h3>
<p><strong>To stop the Docker containers, use the following command:</strong></p>
<div class="highlight highlight-source-shell"><pre class="notranslate">docker-compose down</pre></div>
<h3>Non-Docker Method</h3>
<p>If you're running the server directly with Python, you can stop it by pressing Ctrl+C in the terminal where it's running.</p>
<hr>
<p><a href="/docs/">Return to Documentation</a></p></article>
</body>
</html>